<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calend√°rio de Conte√∫do Edit√°vel - Silva Tintas Automotivas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .calendar-grid {
            grid-template-columns: repeat(7, minmax(0, 1fr));
        }
        .modal-content::-webkit-scrollbar {
            width: 8px;
        }
        .modal-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .modal-content::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        .modal-content::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        .form-label {
            @apply block text-sm font-medium text-gray-700 mb-1;
        }
        .form-input {
            @apply block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 antialiased">
    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Silva Tintas Automotivas</h1>
            <p class="text-lg text-gray-600 mt-2">Calend√°rio de Conte√∫do Edit√°vel</p>
        </header>

        <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6">
            <div id="calendar-header" class="flex items-center justify-between mb-4">
                <button id="prev-month" class="p-2 rounded-full hover:bg-gray-200 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                </button>
                <h2 id="month-year" class="text-xl sm:text-2xl font-semibold"></h2>
                <button id="next-month" class="p-2 rounded-full hover:bg-gray-200 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                </button>
            </div>
            <div id="calendar-grid-header" class="grid calendar-grid gap-2 text-center font-medium text-gray-500 text-sm mb-2">
                <div>Dom</div><div>Seg</div><div>Ter</div><div>Qua</div><div>Qui</div><div>Sex</div><div>S√°b</div>
            </div>
            <div id="calendar-grid" class="grid calendar-grid gap-2"></div>
        </div>
    </div>

    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-2xl shadow-xl w-full max-w-2xl transform transition-all scale-95 opacity-0">
            <div class="flex items-center justify-between p-4 border-b border-gray-200">
                <h3 id="modal-title" class="text-xl font-semibold"></h3>
                <button id="close-modal" class="p-2 rounded-full hover:bg-gray-200 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div id="modal-content" class="p-6 overflow-y-auto max-h-[70vh] modal-content">
                <form id="content-form" class="space-y-6"></form>
            </div>
            <div id="modal-footer" class="p-4 bg-gray-50 border-t border-gray-200 rounded-b-2xl flex justify-end space-x-3"></div>
        </div>
    </div>

    <script>
        // --- DATA ---
        let contentData = {
            // Initial data structure
            1: { feed: { type: "Reel", pillar: "T√©cnica & Tutorial", persona: "Especialista em Est√©tica, Restaurador Detalhista", brand: "Norton", title: "O Segredo do Brilho Espelhado", description: "Reel din√¢mico mostrando as 3 fases do polimento Norton em um painel preto. Foco em closes e texto sobreposto para demonstrar a transforma√ß√£o.", cta: "Pronto para levar seu brilho ao pr√≥ximo n√≠vel? Visite nossa loja e monte seu kit de polimento Norton completo!" }, stories: { theme: "Segunda da T√©cnica", description: "Dica r√°pida em v√≠deo, curiosidade t√©cnica e enquete 'Mito ou Verdade' sobre pintura." } },
            3: { feed: { type: "Carrossel", pillar: "Performance & Produtividade", persona: "Funileiro Profissional", brand: "Farben", title: "Menos Tempo na Cabine, Mais Lucro", description: "Carrossel comparando o tempo de secagem do Verniz Fast Dry da Farben com um verniz convencional, incluindo um depoimento sobre ganho de produtividade.", cta: "Acelere sua produ√ß√£o. Fale com nossos consultores e descubra a linha High Performance da Farben." }, stories: { theme: "Quarta do Cliente", description: "Unboxing de produtos novos, compartilhamento de projetos de clientes e 'Batalha de Projetos' em enquete." } },
            5: { feed: { type: "Est√°tico", pillar: "Paix√£o & Perfei√ß√£o", persona: "Restaurador Detalhista", brand: "Sikkens", title: "A Assinatura dos Mestres", description: "Foto de alta qualidade de um detalhe de um carro cl√°ssico restaurado, com brilho impec√°vel. A legenda fala sobre tradi√ß√£o e a busca pela perfei√ß√£o.", cta: "Qual cl√°ssico voc√™ est√° restaurando? Conte pra gente nos coment√°rios! #SikkensClassic" }, stories: { theme: "Sexta do Projeto Finalizado", description: "Teaser e revela√ß√£o de um projeto 'antes e depois', finalizando com um v√≠deo satisfat√≥rio de 'Sextou com Brilho'." } },
            // Add more initial data as needed...
        };

        // --- CALENDAR LOGIC ---
        const calendarGrid = document.getElementById('calendar-grid');
        const monthYearEl = document.getElementById('month-year');
        const prevMonthBtn = document.getElementById('prev-month');
        const nextMonthBtn = document.getElementById('next-month');
        
        const modal = document.getElementById('modal');
        const modalContainer = modal.querySelector('div');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        const modalFooter = document.getElementById('modal-footer');
        const contentForm = document.getElementById('content-form');
        const closeModalBtn = document.getElementById('close-modal');

        let currentDate = new Date();
        currentDate.setDate(1);
        let selectedDay = null;

        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            monthYearEl.textContent = `${currentDate.toLocaleString('pt-BR', { month: 'long' })} de ${year}`;
            calendarGrid.innerHTML = '';
            const firstDayOfMonth = new Date(year, month, 1).getDay();
            const lastDateOfMonth = new Date(year, month + 1, 0).getDate();

            for (let i = 0; i < firstDayOfMonth; i++) {
                calendarGrid.innerHTML += '<div class="border border-gray-200 rounded-lg"></div>';
            }

            for (let day = 1; day <= lastDateOfMonth; day++) {
                const dayEl = document.createElement('div');
                dayEl.className = 'border border-gray-200 rounded-lg p-2 h-28 sm:h-32 flex flex-col cursor-pointer hover:bg-blue-50 transition-colors relative';
                dayEl.dataset.day = day;

                const dayNumber = document.createElement('span');
                dayNumber.className = 'font-semibold text-gray-700';
                dayNumber.textContent = day;
                dayEl.appendChild(dayNumber);
                
                const today = new Date();
                if (day === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
                    dayNumber.classList.add('bg-blue-500', 'text-white', 'rounded-full', 'w-7', 'h-7', 'flex', 'items-center', 'justify-center');
                }

                const content = contentData[day];
                if (content) {
                    const contentWrapper = document.createElement('div');
                    contentWrapper.className = 'mt-1 space-y-1 overflow-hidden text-xs';
                    if (content.feed && content.feed.title) {
                        const feedPill = document.createElement('div');
                        feedPill.className = `flex items-center p-1 rounded-md ${content.feed.type === 'Reel' ? 'bg-purple-100 text-purple-800' : content.feed.type === 'Carrossel' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}`;
                        const icon = content.feed.type === 'Reel' ? 'üé¨' : content.feed.type === 'Carrossel' ? 'üìë' : 'üñºÔ∏è';
                        feedPill.innerHTML = `<span class="mr-1">${icon}</span> <span class="font-medium truncate">${content.feed.title}</span>`;
                        contentWrapper.appendChild(feedPill);
                    }
                    if(content.stories && content.stories.theme) {
                         const storiesPill = document.createElement('div');
                         storiesPill.className = 'flex items-center p-1 rounded-md bg-pink-100 text-pink-800';
                         storiesPill.innerHTML = `<span>üì±</span> <span class="ml-1 truncate">${content.stories.theme}</span>`;
                         contentWrapper.appendChild(storiesPill);
                    }
                    dayEl.appendChild(contentWrapper);
                }
                calendarGrid.appendChild(dayEl);
            }
        }
        
        function showModal(day) {
            selectedDay = day;
            const content = contentData[day] || { feed: {}, stories: {} };
            const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
            modalTitle.textContent = `Editar Conte√∫do - ${date.toLocaleDateString('pt-BR', { day: '2-digit', month: 'long' })}`;
            
            contentForm.innerHTML = `
                <div>
                    <h4 class="text-lg font-bold text-blue-600 mb-2 border-b pb-2">üì± Conte√∫do dos Stories</h4>
                    <div class="space-y-4 pt-2">
                        <div>
                            <label for="stories-theme" class="form-label">Tema do Dia</label>
                            <input type="text" id="stories-theme" class="form-input" placeholder="Ex: Segunda da T√©cnica" value="${content.stories.theme || ''}">
                        </div>
                        <div>
                            <label for="stories-description" class="form-label">Descri√ß√£o dos Stories</label>
                            <textarea id="stories-description" rows="2" class="form-input" placeholder="Ex: Dica r√°pida em v√≠deo, enquete...">${content.stories.description || ''}</textarea>
                        </div>
                    </div>
                </div>
                <div>
                    <h4 class="text-lg font-bold text-purple-600 mb-2 border-b pb-2">üé¨ Conte√∫do do Feed</h4>
                    <div class="space-y-4 pt-2">
                         <div>
                            <label for="feed-title" class="form-label">T√≠tulo do Post</label>
                            <input type="text" id="feed-title" class="form-input" placeholder="Ex: O Segredo do Brilho Espelhado" value="${content.feed.title || ''}">
                        </div>
                        <div>
                            <label for="feed-type" class="form-label">Formato</label>
                            <select id="feed-type" class="form-input">
                                <option value="Est√°tico" ${content.feed.type === 'Est√°tico' ? 'selected' : ''}>Est√°tico (Imagem √önica)</option>
                                <option value="Carrossel" ${content.feed.type === 'Carrossel' ? 'selected' : ''}>Carrossel</option>
                                <option value="Reel" ${content.feed.type === 'Reel' ? 'selected' : ''}>Reel</option>
                            </select>
                        </div>
                        <div>
                            <label for="feed-brand" class="form-label">Marca em Destaque</label>
                            <input type="text" id="feed-brand" class="form-input" placeholder="Ex: Norton" value="${content.feed.brand || ''}">
                        </div>
                        <div>
                            <label for="feed-description" class="form-label">Descri√ß√£o do Post</label>
                            <textarea id="feed-description" rows="3" class="form-input" placeholder="Detalhes do que ser√° mostrado no post...">${content.feed.description || ''}</textarea>
                        </div>
                        <div>
                            <label for="feed-cta" class="form-label">Chamada para A√ß√£o (CTA)</label>
                            <input type="text" id="feed-cta" class="form-input" placeholder="Ex: Visite nossa loja!" value="${content.feed.cta || ''}">
                        </div>
                    </div>
                </div>
            `;
            
            modalFooter.innerHTML = `
                <button id="delete-btn" class="px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">Excluir</button>
                <button id="save-btn" class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Salvar Altera√ß√µes</button>
            `;
            
            document.getElementById('save-btn').addEventListener('click', saveContent);
            document.getElementById('delete-btn').addEventListener('click', deleteContent);

            modal.classList.remove('hidden');
            setTimeout(() => modalContainer.classList.remove('scale-95', 'opacity-0'), 10);
        }

        function hideModal() {
            modalContainer.classList.add('scale-95', 'opacity-0');
            setTimeout(() => modal.classList.add('hidden'), 200);
        }

        function saveContent() {
            const newContent = {
                stories: {
                    theme: document.getElementById('stories-theme').value.trim(),
                    description: document.getElementById('stories-description').value.trim(),
                },
                feed: {
                    title: document.getElementById('feed-title').value.trim(),
                    type: document.getElementById('feed-type').value,
                    brand: document.getElementById('feed-brand').value.trim(),
                    description: document.getElementById('feed-description').value.trim(),
                    cta: document.getElementById('feed-cta').value.trim(),
                }
            };
            
            // Clean up empty objects
            if (!newContent.stories.theme && !newContent.stories.description) {
                delete newContent.stories;
            }
             if (!newContent.feed.title && !newContent.feed.description) {
                delete newContent.feed;
            }

            if (newContent.stories || newContent.feed) {
                contentData[selectedDay] = newContent;
            } else {
                delete contentData[selectedDay]; // Delete if all fields are empty
            }
            
            hideModal();
            renderCalendar();
        }

        function deleteContent() {
            if (confirm('Tem certeza que deseja excluir todo o conte√∫do deste dia?')) {
                delete contentData[selectedDay];
                hideModal();
                renderCalendar();
            }
        }

        // --- EVENT LISTENERS ---
        prevMonthBtn.addEventListener('click', () => { currentDate.setMonth(currentDate.getMonth() - 1); renderCalendar(); });
        nextMonthBtn.addEventListener('click', () => { currentDate.setMonth(currentDate.getMonth() + 1); renderCalendar(); });
        calendarGrid.addEventListener('click', (e) => {
            const dayCell = e.target.closest('[data-day]');
            if (dayCell) showModal(dayCell.dataset.day);
        });
        closeModalBtn.addEventListener('click', hideModal);
        modal.addEventListener('click', (e) => { if (e.target === modal) hideModal(); });
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && !modal.classList.contains('hidden')) hideModal(); });

        // Initial Render
        renderCalendar();
    </script>
</body>
</html>
